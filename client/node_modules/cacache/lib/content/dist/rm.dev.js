'use strict';

var util = require('util');

var contentPath = require('./path');

var _require = require('./read'),
    hasContent = _require.hasContent;

var rimraf = util.promisify(require('rimraf'));
module.exports = rm;

function rm(cache, integrity) {
  return hasContent(cache, integrity).then(function (content) {
    if (content) {
      var sri = content.sri;

      if (sri) {
        return rimraf(contentPath(cache, sri)).then(function () {
          return true;
        });
      }
    } else {
      return false;
    }
  });
}