"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var addJSXAttribute = function addJSXAttribute(_ref, opts) {
  var t = _ref.types,
      template = _ref.template;

  function getAttributeValue(value, literal) {
    if (typeof value === 'string' && literal) {
      return t.jsxExpressionContainer(template.ast(value).expression);
    }

    if (typeof value === 'string') {
      return t.stringLiteral(value);
    }

    if (typeof value === 'boolean') {
      return t.jsxExpressionContainer(t.booleanLiteral(value));
    }

    if (typeof value === 'number') {
      return t.jsxExpressionContainer(t.numericLiteral(value));
    }

    return null;
  }

  return {
    visitor: {
      JSXAttribute: function JSXAttribute(path) {
        var valuePath = path.get('value');
        if (!valuePath.isStringLiteral()) return;
        opts.values.forEach(function (_ref2) {
          var value = _ref2.value,
              newValue = _ref2.newValue,
              literal = _ref2.literal;
          if (!valuePath.isStringLiteral({
            value: value
          })) return;
          valuePath.replaceWith(getAttributeValue(newValue, literal));
        });
      }
    }
  };
};

var _default = addJSXAttribute;
exports["default"] = _default;