/**
 * @fileoverview JSLint XML reporter
 * @author Ian Christian Myers
 */
"use strict";

var xmlEscape = require("../xml-escape"); //------------------------------------------------------------------------------
// Public Interface
//------------------------------------------------------------------------------


module.exports = function (results) {
  var output = "";
  output += "<?xml version=\"1.0\" encoding=\"utf-8\"?>";
  output += "<jslint>";
  results.forEach(function (result) {
    var messages = result.messages;
    output += "<file name=\"".concat(result.filePath, "\">");
    messages.forEach(function (message) {
      output += ["<issue line=\"".concat(message.line, "\""), "char=\"".concat(message.column, "\""), "evidence=\"".concat(xmlEscape(message.source || ""), "\""), "reason=\"".concat(xmlEscape(message.message || "")).concat(message.ruleId ? " (".concat(message.ruleId, ")") : "", "\" />")].join(" ");
    });
    output += "</file>";
  });
  output += "</jslint>";
  return output;
};