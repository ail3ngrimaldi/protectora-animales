/**
 * @fileoverview Interpolate keys from an object into a string with {{ }} markers.
 * @author Jed Fox
 */
"use strict"; //------------------------------------------------------------------------------
// Public Interface
//------------------------------------------------------------------------------

module.exports = function (text, data) {
  if (!data) {
    return text;
  } // Substitution content for any {{ }} markers.


  return text.replace(/\{\{((?:[\0-z\|~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?)\}\}/g, function (fullMatch, termWithWhitespace) {
    var term = termWithWhitespace.trim();

    if (term in data) {
      return data[term];
    } // Preserve old behavior: If parameter name not provided, don't replace it.


    return fullMatch;
  });
};