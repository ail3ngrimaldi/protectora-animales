"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var applyDefault_1 = require("./applyDefault");

function RuleCreator(urlCreator) {
  // This function will get much easier to call when this is merged https://github.com/Microsoft/TypeScript/pull/26349
  // TODO - when the above PR lands; add type checking for the context.report `data` property
  return function createRule(_ref) {
    var name = _ref.name,
        meta = _ref.meta,
        defaultOptions = _ref.defaultOptions,
        _create = _ref.create;
    return {
      meta: Object.assign(Object.assign({}, meta), {
        docs: Object.assign(Object.assign({}, meta.docs), {
          url: urlCreator(name)
        })
      }),
      create: function create(context) {
        var optionsWithDefault = applyDefault_1.applyDefault(defaultOptions, context.options);
        return _create(context, optionsWithDefault);
      }
    };
  };
}

exports.RuleCreator = RuleCreator;