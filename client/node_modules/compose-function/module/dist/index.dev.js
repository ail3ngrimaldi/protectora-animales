"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = compose;

var _arityN = _interopRequireDefault(require("arity-n"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var compose2 = function compose2(f, g) {
  return function () {
    return f(g.apply(void 0, arguments));
  };
};

function compose() {
  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {
    functions[_key] = arguments[_key];
  }

  var funcs = functions.filter(function (fn) {
    return typeof fn === 'function';
  });
  var lastIdx = funcs.length - 1;
  var arity = 0;

  if (funcs.length <= 0) {
    throw new Error('No funcs passed');
  }

  if (lastIdx >= 0 && funcs[lastIdx]) {
    arity = funcs[lastIdx].length;
  }

  return (0, _arityN["default"])(funcs.reduce(compose2), arity);
}